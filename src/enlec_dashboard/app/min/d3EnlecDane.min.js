function configuration(t,a){var e={};e={url:"/",views:{"":{templateUrl:"app/views/main.html",controller:"mainController"},"header@main":{templateUrl:"app/views/templates/header.html"},"exampleView@main":{templateUrl:"app/views/main/exampleView.html",controller:"exampleController"},"infoView@main":{templateUrl:"app/views/main/infoView.html",controller:"infoController"},"horizontalBarChart1View@main":{templateUrl:"app/views/main/horizontalBarChart1View.html",controller:"horizontalBarController"},"horizontalBarChart2View@main":{templateUrl:"app/views/main/horizontalBarChart2View.html",controller:"horizontalBarController"},"filterView@main":{templateUrl:"app/views/main/filterView.html",controller:"filterController"},"footer@main":{templateUrl:"app/views/templates/footer.html"}}},a.otherwise("/"),t.state("main",e)}function exampleController(t,a,e,n){function r(t){console.log(t)}a.year_2012=2012,a.year_2013=2013,a.mensaje="Example View",a.findDataByYear=function(t){function e(e){angular.forEach(e,function(a){a.year==t&&o.push(a)}),a.dataExampleList=o,a.maxValue=Math.max.apply(Math,a.dataExampleList.map(function(t){return t.valueSalario}))}var o=[];n.findDataExample().then(e,r)},a.findDataByYear(a.year_2013)}function filterController(t,a,e,n){function r(t){console.log(t)}a.impreso="Impreso",a.digital="Digital",a.temaList=[{name:"Lectura"},{name:"Escritura"},{name:"Asistencia a bibliotecas"},{name:"Actividades con menores"}],a.ubicacionList=[{name:"nacional"},{name:"cabecera"},{name:"Centros poblados y rural disperso"},{name:"32 ciudades"}],a.rangoList=[{name:"5 años y más"}],a.mensaje="Filter View",a.findDataBar1=function(){function e(e){angular.forEach(e,function(t){t.ubicacion==a.valor&&o.push(t)}),t.dataBar1List=o,a.findDataBar2()}var o=[];n.findDataBar1().then(e,r)},a.findDataBar2=function(){function e(e){angular.forEach(e,function(t){t.ubicacion==a.valor&&o.push(t)}),t.dataBar2List=o}var o=[];n.findDataBar2().then(e,r)}}function horizontalBarController(t,a,e,n){function r(t){console.log(t)}a.findDataBar1=function(a){function e(e){angular.forEach(e,function(t){t.ubicacion==a&&o.push(t)}),t.dataBar1List=o}var o=[];n.findDataBar1().then(e,r)},a.findDataBar2=function(a){function e(e){angular.forEach(e,function(t){t.ubicacion==a&&o.push(t)}),t.dataBar2List=o}var o=[];n.findDataBar2().then(e,r)},a.findDataBar3=function(){function a(a){angular.forEach(a,function(t){e.push(t)}),t.dataBar3List=e}var e=[];n.findDataBar3().then(a,r)}}function infoController(t,a,e,n){function r(t){console.log(t)}a.mensaje="Info View",a.findDataInfo=function(){function t(t){angular.forEach(t,function(t){e.push(t)}),a.dataInfoList=e}var e=[];n.findDataInfo().then(t,r)}}function mainController(t,a,e){a.mensaje="Main View"}function exampleService(t,a,e){function n(t){o.reject(t)}var r={},o=a.defer();return r.findDataExample=function(){function a(t){o.resolve(t.data)}return t.get(e.ENDPOINT_EXAMPLE_1).then(a,n),o.promise},r}function infoService(t,a,e){function n(t){o.reject(t)}var r={},o=a.defer();return r.findDataInfo=function(){function a(t){o.resolve(t.data)}return t.get(e.ENDPOINT_INFO_1).then(a,n),o.promise},r}function lecturaService(t,a,e){function n(t){o.reject(t)}var r={},o=a.defer(),i=a.defer(),l=a.defer();return r.findDataBar1=function(a){function r(t){o.resolve(t.data)}return t.get(e.ENDPOINT_LECTURA_1).then(r,n),o.promise},r.findDataBar2=function(a){function r(t){i.resolve(t.data)}return t.get(e.ENDPOINT_LECTURA_2).then(r,n),i.promise},r.findDataBar3=function(){function a(t){l.resolve(t.data)}return t.get(e.ENDPOINT_LECTURA_3).then(a,n)},r}var app_enlec=angular.module("enlec",["ui.router","ngResource"]),constantes={ENDPOINT_EXAMPLE_1:"app/models/json/example/data1.json",ENDPOINT_INFO_1:"app/models/json/info/data1.json",ENDPOINT_LECTURA_1:"app/models/json/lectura/data1.json",ENDPOINT_LECTURA_2:"app/models/json/lectura/data2.json",ENDPOINT_LECTURA_3:"app/models/json/lectura/data3.json"};app_enlec.constant("CONFIG",constantes),app_enlec.config(configuration),configuration.$inject=["$stateProvider","$urlRouterProvider"],app_enlec.controller("exampleController",exampleController),exampleController.$inject=["$rootScope","$scope","$http","exampleService"],app_enlec.controller("filterController",filterController),filterController.$inject=["$rootScope","$scope","$http","lecturaService"],app_enlec.controller("horizontalBarController",horizontalBarController),horizontalBarController.$inject=["$rootScope","$scope","$http","lecturaService"],app_enlec.controller("infoController",infoController),infoController.$inject=["$rootScope","$scope","$http","infoService"],app_enlec.controller("mainController",mainController),mainController.$inject=["$rootScope","$scope","$http"],app_enlec.directive("exampleChart",function(){var t={restrict:"A",replace:!1,scope:{data:"=data",max:"=max"},templateUrl:"app/views/directives/example-chart.html",link:linkExampleChart};return t});var linkExampleChart=function(t,a,e){function n(e){function n(t){return"$ "+t.toString().replace(/\B(?=(\d{6})+(?!\d))/g,"'").replace(/\B(?=(\d{3})+(?!\d))/g,".")}r=d3.select(a[0]).append("div").attr("class","barChart"),o=r.selectAll("div").data(e).enter().append("div").style("width",function(a){return 100*a/t.max+"% "}).text(function(t){return n(t)}).style("text-anchor","middle")}var r,o;t.$watch("data",n)};app_enlec.directive("horizontalBarChart",function(){var t={restrict:"A",replace:!1,scope:{data:"=data"},templateUrl:"app/views/directives/horizontal-bar-chart.html",link:linkHorizontalBarChart};return t});var linkHorizontalBarChart=function(t,a,e){function n(t){r={top:20,bottom:30,left:40,right:20},o=1e3-r.left-r.right,i=481-r.top-r.bottom,c=d3.max(t,function(t){return d3.max(t.data,function(t){return t.value})}),v=t.map(function(t){return t.data.map(function(t){return t.key})}),l=d3.scaleLinear().domain([0,c]).rangeRound([0,o]),p=d3.scaleBand().domain(t.map(function(t){return t.category})).rangeRound([i,0]).paddingInner(.1),f=d3.scaleBand().domain(v[0]).rangeRound([p.bandwidth(),0]).paddingInner(.05),u=d3.scaleOrdinal().range(["#615FA7","#54B8C0"]),d=d3.select(a[0]).html("").append("svg").attr("width",1e3).attr("height",481),s=d.append("g").attr("transform","translate("+[r.left,r.top]+")"),m=s.append("g").selectAll("g").data(t).enter().append("g").attr("transform",function(t){return"translate("+[80,p(t.category)]+")"}),h=m.selectAll("rect").data(function(t){return t.data}).enter().append("rect").attr("y",function(t){return f(t.key)}).attr("width",function(t){return l(t.value)}).attr("height",f.bandwidth()).attr("fill",function(t){return u(t.key)}),d.append("g").attr("transform","translate("+[120,i+20]+")").call(d3.axisBottom(l)),d.append("g").attr("transform","translate("+[r.left+80,r.top]+")").call(d3.axisLeft(p))}var r,o,i,l,c,p,f,u,d,s,m,h,v;t.$watch("data",n)};app_enlec.directive("info",function(){var t={restrict:"A",replace:!1,scope:{data:"=data"},templateUrl:"app/views/directives/info.html",link:linkInfo};return t});var linkInfo=function(t,a,e){function n(t){r={top:20,right:20,bottom:30,left:40},o=960-r.left-r.right,i=100-r.top-r.bottom,l=d3.scaleLinear().range([0,o]),c=d3.scaleBand().range([i,0]).padding(.5),y1=d3.scaleBand().range([i,0]).padding(.5),p=d3.select(a[0]).append("svg").attr("width",o+r.left+r.right).attr("height",i+r.top+r.bottom).append("g").attr("transform","translate("+r.left+","+r.top+")"),l.domain([0,d3.max(t,function(t){return t.value})]),c.domain(t.map(function(t){return t.name})),y1.domain(t.map(function(t){return t.nameuno})),p.selectAll(".barInfo").data(t).enter().append("rect").attr("class","barInfo").attr("width",function(t){return l(t.value)}).attr("y",function(t){return c(t.name)}).attr("height",c.bandwidth()),p.selectAll(".barSecundario").data(t).enter().append("rect").attr("class","barSecundario").attr("width",function(t){return l(t.valueuno)}).attr("y",function(t){return y1(t.nameuno)}).attr("height",y1.bandwidth()).attr("transform","translate(0,10)"),p.append("g").attr("transform","translate(0,"+i+")").call(d3.axisBottom(l)),p.append("g").call(d3.axisLeft(c))}var r,o,i,l,c,p;t.$watch("data",n)};app_enlec.factory("exampleService",exampleService),exampleService.$inject=["$http","$q","CONFIG"],app_enlec.factory("infoService",infoService),infoService.$inject=["$http","$q","CONFIG"],app_enlec.factory("lecturaService",lecturaService),lecturaService.$inject=["$http","$q","CONFIG"];