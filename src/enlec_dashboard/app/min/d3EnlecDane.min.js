function configuracion(e,t){t.otherwise("/"),e.state("main",{url:"/",views:{"":{templateUrl:"app/views/dashboard.html",controller:"mainController"},"header@main":{templateUrl:"app/views/templates/header.html"},"exampleView@main":{templateUrl:"app/views/dashboard/exampleView.html",controller:"exampleController"},"infoView@main":{templateUrl:"app/views/dashboard/infoView.html",controller:"infoController"},"barChartView@main":{templateUrl:"app/views/dashboard/barChartView.html"},"footer@main":{templateUrl:"app/views/templates/footer.html"}}})}function exampleController(e,t,a,r){t.year_2012=2012,t.year_2013=2013,t.findDataByYear=function(e){var a=[];r.findDataExample().then(function(r){angular.forEach(r.data,function(t){t.year==e&&a.push(t)}),t.dataExampleList=a,t.maxValue=Math.max.apply(Math,t.dataExampleList.map(function(e){return e.valueSalario}))},function(e){t.status="No se pudo cargar la data para el servicio exampleService (findDataExample): "+e.message})},t.findDataByYear(t.year_2013)}function infoController(e,t){t.ms="Informaci√≥n"}function mainController(e,t){t.mensaje="Welcome 11"}function service(e){var t="app/models/json/exampleChart/dataExampleChart.json";this.findDataExample=function(){return e.get(t)}}var app_enlec=angular.module("enlec",["ui.router","ngResource"]);app_enlec.config(configuracion),configuracion.$inject=["$stateProvider","$urlRouterProvider"],app_enlec.controller("exampleController",exampleController),exampleController.$inject=["$rootScope","$scope","$http","exampleService"],app_enlec.controller("infoController",infoController),infoController.$inject=["$rootScope","$scope"],app_enlec.controller("mainController",mainController),mainController.$inject=["$rootScope","$scope"],app_enlec.directive("barChart",function(){var e={restrict:"A",replace:!1,templateUrl:"app/views/templates/bar-chart.html",link:linkBarChart};return e});var linkBarChart=function(e,t,a){function r(e){return Object.keys(e).forEach(function(t){isNaN(+e[t])||(e[t]=+e[t])}),e}function n(e){console.log(e);var t=d3.nest().rollup(function(e){return delete e[0].contry,e[0]}).key(function(e){return e.contry}).entries(e);t.forEach(function(e){e.age=Object.keys(e.value).map(function(t){return{key:t,value:e.value[t]}})}),l(t),i(),o(t)}function l(e){c=document.querySelector("#graph").clientWidth,p=document.querySelector("#graph").clientHeight,u={top:0,left:100,bottom:40,right:0},s=c-(u.left+u.right),d=p-(u.top+u.bottom),m.attr("width",c).attr("height",p),f.attr("width",c).attr("height",p),h.attr("width",s).attr("height",d).attr("transform","translate("+[u.left,u.top]+")"),v.domain(e.map(function(e){return e.key})).range([0,s]).paddingInner(.1);var t=Object.keys(e[0].value);g.domain(t).range([0,v.bandwidth()]);var a=d3.max(e.map(function(e){var t=Object.keys(e.value).map(function(t){return e.value[t]});return d3.max(t)}));x.domain([0,a]).range([d,0])}function o(e){var t=d3.transition().duration(1e3).ease(d3.easeLinear),a=h.selectAll(".contry").data(e),r=a.enter().append("g").attr("class","contry");a.merge(r).attr("transform",function(e){return"translate("+[v(e.key),0]+")"});var n=r.selectAll(".bar").data(function(e){return e.age}),l=n.enter().append("rect").attr("class","bar");n.merge(l).attr("width",g.bandwidth()).attr("height",0).attr("fill",function(e){return y(e.key)}).attr("transform",function(e){return"translate("+[g(e.key),d]+")"}),n.merge(l).transition(t).attr("height",function(e){return d-x(e.value)}).attr("transform",function(e){return"translate("+[g(e.key),x(e.value)]+")"})}function i(){var e=d3.axisLeft(x).tickSizeInner(-s);f.append("g").attr("transform","translate("+[u.left,u.top]+")").attr("class","axis y").call(e);var t=d3.axisBottom(v);f.append("g").attr("class","axis x").attr("transform","translate("+[u.left,d]+")").call(t)}var c,p,s,d,u,m=d3.select(t[0]).append("svg"),f=m.append("g").classed("axisLayer",!0),h=m.append("g").classed("chartLayer",!0),v=d3.scaleBand(),g=d3.scaleBand(),x=d3.scaleLinear(),y=d3.scaleOrdinal().range(["#5DDEC9","#EF64AD","#7b6888","#BA67E5","#E0E23B","#d0743c","#ff8c00"]);d3.csv("data.csv",r,n),alert("holas2")};app_enlec.directive("exampleChart",function(){var e={restrict:"A",replace:!1,scope:{data:"=data",max:"=max"},templateUrl:"app/views/templates/example-chart.html",link:link};return e});var link=function(e,t,a){function r(a){function r(e){return"$ "+e.toString().replace(/\B(?=(\d{6})+(?!\d))/g,"'").replace(/\B(?=(\d{3})+(?!\d))/g,".")}n=d3.select(t[0]).append("div").attr("class","barChart"),l=n.selectAll("div").data(a).enter().append("div").style("width",function(t){return 100*t/e.max+"% "}).text(function(e){return r(e)}).style("text-anchor","middle")}var n,l;e.$watch("data",r)};app_enlec.service("exampleService",service),service.$inject=["$http"];